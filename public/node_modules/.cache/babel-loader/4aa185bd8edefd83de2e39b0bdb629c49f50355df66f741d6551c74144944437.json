{"ast":null,"code":"var _jsxFileName = \"/Users/salmanmajid/Documents/Nahom Projects/NodeJs/chat app/public/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport react, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Logo from '../assets/logo.png';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { loginRoute } from '../utils/APIRoutes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const handleSubmit = async event => {\n    console.log(\"Callin api\");\n    event.preventDefault();\n    const validation = handleValidation();\n    if (!validation) {} else {\n      const {\n        email,\n        password\n      } = values;\n      const data = await axios.post(loginRoute, {\n        email: email,\n        password: password\n      });\n      if (data.data.status === true) {\n        console.log(data.data); // this will have the whole response from the api with status, message and data\n        toast(`User logged in as ${data.data.data.user.name}`);\n        localStorage.setItem(\"chat-app-user\", JSON.stringify(data.data.data));\n        navigate(\"/\");\n      } else {\n        toast.error(\"Error : \" + data.data.message);\n      }\n    }\n    // alert(\"form\");\n  };\n\n  const handleChange = event => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handleValidation = () => {\n    const {\n      password,\n      email\n    } = values;\n    //   if(password !== confirmPassword){\n    //     toast.error(\"Passwords do not match\", {\n    //       position: \"bottom-right\",\n    //       pauseOnHover: true,\n    //       autoClose: 8000,\n    //       theme: \"dark\"\n    //     });\n    //     return false;\n    //   }\n    return true;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormContainer, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => handleSubmit(event),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: Logo,\n            alt: \"Logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Momint Chats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          name: \"email\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          name: \"password\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Create User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Create an account: \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(Login, \"p92j6/tUcECfT77D4331rHiNjQ8=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nconst FormContainer = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .brand {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    justify-content: center;\n    img {\n      height: 5rem;\n    }\n    h1 {\n      color: white;\n      text-transform: uppercase;\n    }\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    background-color: #00000076;\n    border-radius: 2rem;\n    padding: 3rem 5rem;\n  }\n  input {\n    background-color: transparent;\n    padding: 1rem;\n    border: 0.1rem solid #4e0eff;\n    border-radius: 0.4rem;\n    color: white;\n    width: 100%;\n    font-size: 1rem;\n    &:focus {\n      border: 0.1rem solid #997af0;\n      outline: none;\n    }\n  }\n  button {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n  span {\n    color: white;\n    text-transform: uppercase;\n    a {\n      color: #4e0eff;\n      text-decoration: none;\n      font-weight: bold;\n    }\n  }\n`;\n_c2 = FormContainer;\nexport default Login;\nvar _c, _c2;\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"FormContainer\");","map":{"version":3,"names":["react","useState","useEffect","Link","useNavigate","styled","Logo","axios","ToastContainer","toast","loginRoute","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","navigate","values","setValues","email","password","handleSubmit","event","console","log","preventDefault","validation","handleValidation","data","post","status","user","name","localStorage","setItem","JSON","stringify","error","message","handleChange","target","value","children","FormContainer","onSubmit","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","to","_c","div","_c2","$RefreshReg$"],"sources":["/Users/salmanmajid/Documents/Nahom Projects/NodeJs/chat app/public/src/pages/Login.jsx"],"sourcesContent":["import react, {useState, useEffect} from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport styled from 'styled-components'\nimport Logo from '../assets/logo.png'\nimport axios from 'axios';\n\nimport { ToastContainer, toast } from 'react-toastify';\n  import 'react-toastify/dist/ReactToastify.css';\nimport { loginRoute } from '../utils/APIRoutes';\n\n\nfunction Login(){\n    const navigate = useNavigate();\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n  })\n    const handleSubmit = async (event)=>{\n      console.log(\"Callin api\");\n        event.preventDefault();\n        const validation = handleValidation()\n      if(!validation){\n\n      }\n      else{\n        const {email, password} = values;\n        const data = await axios.post(loginRoute, {\n          email: email,\n          password: password,\n        });\n        if(data.data.status === true){\n            console.log(data.data); // this will have the whole response from the api with status, message and data\n            toast(`User logged in as ${data.data.data.user.name}`);\n            localStorage.setItem(\"chat-app-user\", JSON.stringify(data.data.data));\n            navigate(\"/\")\n        }\n        else{\n            toast.error(\"Error : \" + data.data.message)\n        }\n      }\n        // alert(\"form\");\n        \n    }\n\n    const handleChange = (event)=>{\n      setValues({...values, [event.target.name]: event.target.value })\n      \n    }\n    const handleValidation = ()=>{\n      const {password, email} = values;\n    //   if(password !== confirmPassword){\n    //     toast.error(\"Passwords do not match\", {\n    //       position: \"bottom-right\",\n    //       pauseOnHover: true,\n    //       autoClose: 8000,\n    //       theme: \"dark\"\n    //     });\n    //     return false;\n    //   }\n      return true;\n    }\n\n\n    return(\n    <>\n    <FormContainer>\n        <form onSubmit={(event)=>handleSubmit(event)}>\n            <div className='brand'>\n                <img src={Logo} alt=\"Logo\"/>\n                <h1>Momint Chats</h1>\n            </div>\n            \n            <input type='email' placeholder='Email' name='email' onChange={e => handleChange(e)}></input>\n            <input type='password' placeholder='Password' name='password' onChange={e => handleChange(e)}></input>\n\n            <button type='submit'>Create User</button>\n            <span>Create an account: <Link to=\"/register\">Register</Link></span>\n        </form>\n    </FormContainer>\n    <ToastContainer />\n    </>\n    );\n}\n\nconst FormContainer = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .brand {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    justify-content: center;\n    img {\n      height: 5rem;\n    }\n    h1 {\n      color: white;\n      text-transform: uppercase;\n    }\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    background-color: #00000076;\n    border-radius: 2rem;\n    padding: 3rem 5rem;\n  }\n  input {\n    background-color: transparent;\n    padding: 1rem;\n    border: 0.1rem solid #4e0eff;\n    border-radius: 0.4rem;\n    color: white;\n    width: 100%;\n    font-size: 1rem;\n    &:focus {\n      border: 0.1rem solid #997af0;\n      outline: none;\n    }\n  }\n  button {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n  span {\n    color: white;\n    text-transform: uppercase;\n    a {\n      color: #4e0eff;\n      text-decoration: none;\n      font-weight: bold;\n    }\n  }\n`;\n\n\nexport default Login; "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}